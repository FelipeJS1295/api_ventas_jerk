<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>
      {% block title %}Jerk Home - Sofás Seccionales Premium{% endblock %}
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="{% block description %}Colección exclusiva de sofás seccionales y muebles de lujo. Diseño contemporáneo y calidad excepcional.{% endblock %}"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "brand-coral": {
                400: "#f56565",
                500: "#e53e3e",
                600: "#c53030",
                700: "#9b2c2c",
              },
              dark: {
                50: "#fafafa",
                100: "#f5f5f5",
                200: "#e5e5e5",
                300: "#d4d4d4",
                400: "#a3a3a3",
                500: "#737373",
                600: "#525252",
                700: "#404040",
                800: "#262626",
                850: "#1f1f1f",
                900: "#171717",
                950: "#0a0a0a",
              },
            },
            animation: {
              "fade-up": "fadeUp 0.8s ease-out",
              "fade-in": "fadeIn 1s ease-out",
              "slide-up": "slideUp 0.6s ease-out",
              "scale-in": "scaleIn 0.5s ease-out",
              glow: "glow 2s ease-in-out infinite alternate",
            },
            fontFamily: {
              sans: ["Inter", "system-ui", "sans-serif"],
              display: ["Inter", "system-ui", "sans-serif"],
            },
            backdropBlur: {
              xs: "2px",
            },
          },
        },
      };
    </script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap");

      .glass-dark {
        background: rgba(23, 23, 23, 0.95);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
      }

      .glass-subtle {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }

      /* Animación mejorada para el dropdown */
      .group:hover .group-hover\:opacity-100 {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      /* Efecto hover mejorado para items */
      .group\/item:hover {
        transform: translateX(2px);
      }

      /* Animación del chevron */
      .group:hover .fa-chevron-down {
        transform: rotate(180deg);
      }

      /* Sombra premium para el dropdown */
      .shadow-2xl {
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      }

      /* Efecto de brillo en hover */
      .group\/item:hover .glass-subtle {
        background: rgba(229, 62, 62, 0.1);
        border: 1px solid rgba(229, 62, 62, 0.2);
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(40px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes scaleIn {
        from {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes glow {
        from {
          box-shadow: 0 0 20px rgba(229, 62, 62, 0.2);
        }
        to {
          box-shadow: 0 0 40px rgba(229, 62, 62, 0.4);
        }
      }

      /* Scrollbar personalizado */
      ::-webkit-scrollbar {
        width: 6px;
      }

      ::-webkit-scrollbar-track {
        background: #171717;
      }

      ::-webkit-scrollbar-thumb {
        background: #404040;
        border-radius: 3px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #525252;
      }

      /* Efectos premium */
      .glass-dark {
        background: rgba(23, 23, 23, 0.9);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .glass-subtle {
        background: rgba(38, 38, 38, 0.8);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .text-gradient {
        background: linear-gradient(135deg, #e53e3e, #f56565);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .btn-premium {
        background: linear-gradient(135deg, #e53e3e, #c53030);
        border: 1px solid rgba(229, 62, 62, 0.3);
        position: relative;
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .btn-premium::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transition: left 0.5s ease;
      }

      .btn-premium:hover::before {
        left: 100%;
      }

      .btn-premium:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(229, 62, 62, 0.3);
      }

      .btn-ghost {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
      }

      .btn-ghost:hover {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(229, 62, 62, 0.5);
        transform: translateY(-1px);
      }

      .product-card {
        background: rgba(38, 38, 38, 0.6);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .product-card:hover {
        background: rgba(64, 64, 64, 0.8);
        border-color: rgba(229, 62, 62, 0.3);
        transform: translateY(-8px);
        box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3),
          0 0 0 1px rgba(229, 62, 62, 0.1);
      }

      .nav-link {
        position: relative;
        transition: all 0.3s ease;
      }

      .nav-link::after {
        content: "";
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 0;
        height: 1px;
        background: linear-gradient(90deg, #e53e3e, #f56565);
        transition: width 0.3s ease;
      }

      .nav-link:hover::after {
        width: 100%;
      }

      .section-divider {
        background: linear-gradient(
          90deg,
          transparent,
          rgba(229, 62, 62, 0.3),
          transparent
        );
        height: 1px;
      }

      .hero-pattern {
        background-image: radial-gradient(
            circle at 20% 20%,
            rgba(229, 62, 62, 0.1) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 80%,
            rgba(229, 62, 62, 0.05) 0%,
            transparent 50%
          );
      }

      /* Animaciones suaves para móvil */
      @media (prefers-reduced-motion: reduce) {
        * {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>
  </head>
  <body class="bg-dark-950 text-white font-sans antialiased">
    <!-- Header minimalista premium -->
    <header class="fixed top-0 w-full z-50 glass-dark">
      <div class="max-w-7xl mx-auto px-6">
        <div class="flex items-center justify-between h-20">
          <!-- Logo elegante sin bordes -->
          <div class="flex items-center space-x-4">
            <div class="w-10 h-10 flex items-center justify-center">
              <img
                src="/static/img/logo_pnn.png"
                alt="Jerk Home"
                class="w-8 h-8 object-contain"
              />
            </div>
            <div>
              <h1 class="text-xl font-bold text-gradient tracking-tight">
                Jerk Home
              </h1>
            </div>
          </div>

          <!-- Navegación minimalista con submenú -->
          <nav class="hidden lg:flex items-center space-x-12">
            <a
              href="/inicio"
              class="nav-link text-white/80 hover:text-white font-medium tracking-wide"
              >Inicio</a
            >
            <a
              href="/nosotros"
              class="nav-link text-white/80 hover:text-white font-medium tracking-wide"
              >Nosotros</a
            >

            <div>
              <a
                href="/productos"
                class="nav-link text-white/80 hover:text-white font-medium tracking-wide flex items-center gap-2"
              >
                <span>Productos</span>
              </a>
            </div>

            <a
              href="/contacto"
              class="nav-link text-white/80 hover:text-white font-medium tracking-wide"
              >Contacto</a
            >
          </nav>

          <!-- Acciones -->
          <div class="flex items-center space-x-6">
            <!-- Búsqueda -->
            <button
              class="p-2 text-white/70 hover:text-white transition-colors"
            >
              <i class="fas fa-search text-lg"></i>
            </button>

            <!-- Carrito elegante -->
            <a href="/carrito" class="relative p-2 text-white/70 hover:text-white transition-colors group">
              <i class="fas fa-shopping-bag text-lg"></i>
              <span
                data-cart-counter
                class="absolute -top-1 -right-1 w-4 h-4 bg-brand-coral-500 rounded-full flex items-center justify-center text-xs font-medium"
              >0</span>
            </a>

            <!-- CTA premium -->
            <button
              class="btn-premium text-white px-6 py-2.5 rounded-lg font-medium tracking-wide"
            >
              <span class="relative z-10">Consultar</span>
            </button>
          </div>

          <!-- Menú móvil -->
          <button
            class="lg:hidden p-2 text-white/70 hover:text-white"
            onclick="toggleMobileMenu()"
          >
            <i class="fas fa-bars text-xl"></i>
          </button>
        </div>

        <!-- Menú móvil actualizado -->
        <div id="mobileMenu" class="lg:hidden hidden">
          <div class="glass-subtle rounded-xl p-6 mb-6 space-y-4">
            <a
              href="/inicio"
              class="block text-white/80 hover:text-white py-3 font-medium"
              >Inicio</a
            >
            <a
              href="/nosotros"
              class="block text-white/80 hover:text-white py-3 font-medium"
              >Nosotros</a
            >

            <!-- Productos móvil -->
            <div class="lg:hidden">
              <div>
                <!-- Botón principal móvil también clickeable -->
                <div class="flex items-center justify-between">
                  <a
                    href="/productos"
                    class="flex-1 text-white/80 hover:text-white py-3 font-medium"
                  >
                    Productos
                  </a>
                  <button
                    onclick="toggleProductosMovil()"
                    class="p-2 text-white/60 hover:text-white"
                  >
                    <i
                      id="productos-arrow"
                      class="fas fa-chevron-down transition-transform"
                    ></i>
                  </button>
                </div>

                <!-- Submenú móvil -->
                <div
                  id="productos-submenu"
                  class="hidden ml-4 mt-2 space-y-2 bg-white/5 rounded-lg p-3"
                >
                  <!-- Ver todos -->
                  <a
                    href="/productos"
                    class="block text-white/60 hover:text-brand-coral-400 py-2 text-sm flex items-center gap-3 rounded-lg hover:bg-white/5 px-2 transition-all"
                  >
                    <i class="fas fa-th text-brand-coral-400 w-4"></i>
                    <span>Todos los Productos</span>
                  </a>

                  <!-- Seccionales -->
                  <a
                    href="/seccionales"
                    class="block text-white/60 hover:text-brand-coral-400 py-2 text-sm flex items-center gap-3 rounded-lg hover:bg-white/5 px-2 transition-all"
                  >
                    <i class="fas fa-th-large text-brand-coral-400 w-4"></i>
                    <span>Seccionales</span>
                  </a>

                  <!-- Sofás -->
                  <a
                    href="/sofas"
                    class="block text-white/60 hover:text-brand-coral-400 py-2 text-sm flex items-center gap-3 rounded-lg hover:bg-white/5 px-2 transition-all"
                  >
                    <i class="fas fa-couch text-brand-coral-400 w-4"></i>
                    <span>Sofás</span>
                  </a>

                  <!-- Poltronas -->
                  <a
                    href="/sofas?categoria=poltrona"
                    class="block text-white/60 hover:text-brand-coral-400 py-2 text-sm flex items-center gap-3 rounded-lg hover:bg-white/5 px-2 transition-all"
                  >
                    <i class="fas fa-chair text-brand-coral-400 w-4"></i>
                    <span>Poltronas</span>
                  </a>

                  <!-- Camas -->
                  <a
                    href="/productos?tipo=camas"
                    class="block text-white/60 hover:text-brand-coral-400 py-2 text-sm flex items-center gap-3 rounded-lg hover:bg-white/5 px-2 transition-all"
                  >
                    <i class="fas fa-bed text-brand-coral-400 w-4"></i>
                    <span>Camas</span>
                  </a>

                  <!-- Decoración -->
                  <a
                    href="/decoracion"
                    class="block text-white/60 hover:text-brand-coral-400 py-2 text-sm flex items-center gap-3 rounded-lg hover:bg-white/5 px-2 transition-all"
                  >
                    <i class="fas fa-palette text-brand-coral-400 w-4"></i>
                    <span>Decoración</span>
                  </a>
                </div>
              </div>
            </div>

            <a
              href="/contacto"
              class="block text-white/80 hover:text-white py-3 font-medium"
              >Contacto</a
            >
            <div class="pt-4 border-t border-white/10">
              <button
                class="w-full btn-premium text-white py-3 rounded-lg font-medium"
              >
                Consultar
              </button>
            </div>
          </div>
        </div>
      </div>
    </header>
    <br />
    <main>{% block content %} {% endblock %}</main>

    <!-- Footer minimalista premium -->
    <footer class="bg-dark-900 border-t border-white/10">
      <div class="max-w-7xl mx-auto px-6 py-20">
        <!-- Main footer -->
        <div class="grid lg:grid-cols-4 gap-12 mb-16">
          <!-- Brand -->
          <div class="lg:col-span-2 space-y-6">
            <div class="flex items-center space-x-4">
              <div class="w-10 h-10 flex items-center justify-center">
                <img
                  src="/static/img/logo_pnn.png"
                  alt="Jerk Home"
                  class="w-8 h-8 object-contain"
                />
              </div>
              <div>
                <h3 class="text-xl font-bold text-gradient">Jerk Home</h3>
                <span class="text-xs text-white/50 font-medium tracking-wider"
                  >PREMIUM FURNITURE</span
                >
              </div>
            </div>

            <p class="text-white/60 max-w-md leading-relaxed">
              Redefiniendo espacios con muebles de lujo que trascienden las
              tendencias. Cada pieza cuenta una historia de artesanía
              excepcional.
            </p>

            <!-- Contact info -->
            <div class="space-y-3">
              <div class="flex items-center gap-3 text-white/60">
                <svg
                  class="w-4 h-4 text-brand-coral-400"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                  ></path>
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"
                  ></path>
                </svg>
                <span class="text-sm">Los Paltos 2769, La Pintana</span>
              </div>
              <div class="flex items-center gap-3 text-white/60">
                <svg
                  class="w-4 h-4 text-brand-coral-400"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                  ></path>
                </svg>
                <span class="text-sm">Contacto@jerkhome.cl</span>
              </div>
              <div class="flex items-center gap-3 text-white/60">
                <svg
                  class="w-4 h-4 text-brand-coral-400"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  ></path>
                </svg>
                <span class="text-sm">+569 3253 8029</span>
              </div>
            </div>
          </div>

          <!-- Links actualizados -->
          <div>
            <h4 class="text-lg font-bold text-white mb-6">Productos</h4>
            <ul class="space-y-3">
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Seccionales Premium</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Sofás</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Poltronas</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Camas</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Accesorios</a
                >
              </li>
            </ul>
          </div>

          <!-- Services -->
          <div>
            <h4 class="text-lg font-bold text-white mb-6">Servicios</h4>
            <ul class="space-y-3">
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Diseño Interior</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Muebles a Medida</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Mantenimiento</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Financiación</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-white/60 hover:text-brand-coral-400 transition-colors text-sm"
                  >Visitar Showroom</a
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- Social & Copyright -->
        <div
          class="border-t border-white/10 pt-8 flex flex-col lg:flex-row justify-between items-center gap-6"
        >
          <div class="text-white/50 text-sm">
            &copy; {{ now().year }} Jerk Home. Diseño y calidad premium. pagina creada por quantiumcoders.cl
          </div>

          <!-- Social links minimalistas -->
          <div class="flex gap-4">
            <a
              href="#"
              class="w-10 h-10 glass-subtle rounded-full flex items-center justify-center text-white/60 hover:text-brand-coral-400 transition-colors"
            >
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"
                />
              </svg>
            </a>
            <a
              href="#"
              class="w-10 h-10 glass-subtle rounded-full flex items-center justify-center text-white/60 hover:text-brand-coral-400 transition-colors"
            >
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M12.56.75C16.86.75 20.25 4.14 20.25 8.44v7.12c0 4.3-3.39 7.69-7.69 7.69H4.44C.14 23.25-3.25 19.86-3.25 15.56V8.44C-3.25 4.14.14.75 4.44.75h8.12zM12 7.25c-2.62 0-4.75 2.13-4.75 4.75S9.38 16.75 12 16.75s4.75-2.13 4.75-4.75S14.62 7.25 12 7.25zM17.5 5.75a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5z"
                />
              </svg>
            </a>
            <a
              href="#"
              class="w-10 h-10 glass-subtle rounded-full flex items-center justify-center text-white/60 hover:text-brand-coral-400 transition-colors"
            >
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path
                  d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
                />
              </svg>
            </a>
          </div>

          <div class="flex gap-6 text-xs text-white/50">
            <a
              href="/politicas"
              class="hover:text-brand-coral-400 transition-colors"
              >Politicas de Privacidad</a
            >
          </div>
        </div>
      </div>
    </footer>

    <!-- Scripts premium -->
    <script>
      // Mobile menu toggle
      function toggleMobileMenu() {
        const menu = document.getElementById("mobileMenu");
        menu.classList.toggle("hidden");
      }

      // Toggle submenu productos en móvil
      function toggleProductosMovil() {
        const submenu = document.getElementById("productos-submenu");
        const arrow = document.getElementById("productos-arrow");

        submenu.classList.toggle("hidden");
        arrow.classList.toggle("rotate-180");
      }

      // Smooth scrolling
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Header scroll effect
      let lastScrollTop = 0;
      const header = document.querySelector("header");

      window.addEventListener("scroll", () => {
        const scrollTop =
          window.pageYOffset || document.documentElement.scrollTop;

        if (scrollTop > 100) {
          header.style.background = "rgba(23, 23, 23, 0.95)";
          header.style.backdropFilter = "blur(20px)";
        } else {
          header.style.background = "rgba(23, 23, 23, 0.9)";
          header.style.backdropFilter = "blur(20px)";
        }

        // Auto-hide header on scroll down
        if (scrollTop > lastScrollTop && scrollTop > 200) {
          header.style.transform = "translateY(-100%)";
        } else {
          header.style.transform = "translateY(0)";
        }

        lastScrollTop = scrollTop;
      });

      // Intersection Observer for animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = "1";
            entry.target.style.transform = "translateY(0)";
          }
        });
      }, observerOptions);

      // Observe elements for scroll animations
      document.addEventListener("DOMContentLoaded", () => {
        // Initially hide elements that will animate
        document
          .querySelectorAll(".animate-slide-up, .animate-fade-up")
          .forEach((el) => {
            if (!el.style.animationDelay) {
              el.style.opacity = "0";
              el.style.transform = "translateY(30px)";
              el.style.transition = "all 0.6s ease-out";
              observer.observe(el);
            }
          });

        // Product card interactions
        document.querySelectorAll(".product-card").forEach((card) => {
          card.addEventListener("mouseenter", function () {
            this.style.transform = "translateY(-8px)";
          });

          card.addEventListener("mouseleave", function () {
            this.style.transform = "translateY(0)";
          });
        });

        // Button ripple effect
        document.querySelectorAll(".btn-premium").forEach((button) => {
          button.addEventListener("click", function (e) {
            const ripple = document.createElement("span");
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.height, rect.width);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;

            ripple.style.width = ripple.style.height = size + "px";
            ripple.style.left = x + "px";
            ripple.style.top = y + "px";
            ripple.classList.add("ripple");

            this.appendChild(ripple);

            setTimeout(() => {
              ripple.remove();
            }, 600);
          });
        });
      });

      // Newsletter form
      document.querySelector("form")?.addEventListener("submit", function (e) {
        e.preventDefault();
        const email = this.querySelector('input[type="email"]').value;
        if (email) {
          const button = this.querySelector("button");
          const originalText = button.innerHTML;

          button.innerHTML = '<span class="relative z-10">Enviando...</span>';
          button.disabled = true;

          setTimeout(() => {
            button.innerHTML =
              '<span class="relative z-10">¡Bienvenido!</span>';
            button.classList.add("bg-green-600");

            setTimeout(() => {
              button.innerHTML = originalText;
              button.disabled = false;
              button.classList.remove("bg-green-600");
              this.reset();
            }, 2000);
          }, 1000);
        }
      });

      // Performance optimization
      const prefersReducedMotion = window.matchMedia(
        "(prefers-reduced-motion: reduce)"
      );
      if (prefersReducedMotion.matches) {
        document.querySelectorAll('[class*="animate"]').forEach((el) => {
          el.style.animation = "none";
          el.style.transition = "none";
        });
      }

      document.addEventListener("DOMContentLoaded", function () {
        // Detectar si estamos en una página de categoría y marcar el item activo
        const currentPath = window.location.pathname;
        const menuItems = document.querySelectorAll(
          '[href*="/productos"], [href*="/seccionales"], [href*="/sofas"], [href*="/decoracion"]'
        );

        menuItems.forEach((item) => {
          if (item.getAttribute("href") === currentPath) {
            item.classList.add("text-brand-coral-400");
            item
              .querySelector(".glass-subtle")
              ?.classList.add("bg-brand-coral-400/10");
          }
        });
      });

        document.addEventListener("DOMContentLoaded", () => {
          const cartCounter = document.querySelector("[data-cart-counter]");
          if (cartCounter) {
            const carrito = JSON.parse(localStorage.getItem("carrito")) || [];
            const total = carrito.reduce((sum, p) => sum + p.cantidad, 0);
            cartCounter.textContent = total;
          }
        });
    </script>

    {% block scripts %}{% endblock %}
  </body>
</html>
